<div class="col-md-10 role-list">
  <h2 class="feature-heading text-center">ROLES</h2>
  <div class="alert-bar" *ngIf="!!message" >
    <ngb-alert [type]="message.type" (close)="closeAlert()">{{message.message}}</ngb-alert>
  </div>
  <div class="btn btn-dark create-role-btn float-right" (click)="addRole()" >new role</div>
  <table class="table table-hover table-responsive items" *ngIf="roles|async;else loading">
    <thead class="thead-inverse">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Description</th>
        <th class="text-center">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let role of role_list; let i = index" ngbTooltip="Double Click to Edit" placement="right">
        <td>
          #{{i}}
        </td>
        <td (dblclick)="editRole($event.target)">
          <input  class="name" [(ngModel)]="role.name" disabled>
        </td>
        <td (dblclick)="editRole($event.target)">
          <input class="desc" [(ngModel)]="role.description" disabled>
        </td>
        <td class="text-center">
          <button class="btn btn-secondary" (click)="submit(role, $event.target)">Submit</button>
          <button class="btn btn-secondary" (click)="delete(role, $event.target)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
  <ng-template #loading>
    <div class="loading">
      <svg class="loading-icon" version="1.1"
           xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink"
           viewBox="0 0 1024 1024">
        <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 0 0" to="360 0 0" dur="1s" repeatCount="indefinite"></animateTransform>
        <image xlink:href="assets/img/loading.svg" style="width:100%;"></image>
      </svg>
    </div>
  </ng-template>
</div>
