<div class="col-md-10 user-list">
  <h2 class="feature-heading">USERS</h2>
  <div class="btn btn-dark create-user-btn"
       routerLink="../register" >new user</div>
  <table class="table table-hover table-responsive items" *ngIf="users;else loading">
    <thead class="thead-inverse">
    <tr>
      <th>Email</th>
      <th>Name</th>
      <th>Roles</th>
      <th>Active</th>
      <th>Last Login</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let user of users | async"
        [class.selected]="isSelected(user)">
      <td>{{user.email}}</td>
      <td>{{user.username}}</td>
      <td><span *ngFor="let role of user.roles">{{role.name}}</span></td>
      <td style="text-transform: capitalize;">{{user.active}}</td>
      <td>{{user.last_login_at}}</td>
      <td>
        <button class="btn btn-secondary" (click)="deleteUser(user)">Delete</button>
        <button [routerLink]="user.id" class="btn btn-secondary">Edit</button>
      </td>
    </tr>
    </tbody>
  </table>
  <ng-template #loading>  <div class="loading">
    <svg class="loading-icon" version="1.1"
         xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink"
         viewBox="0 0 1024 1024"
    >
      <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 0 0" to="360 0 0" dur="1s" repeatCount="indefinite"></animateTransform>
      <image xlink:href="assets/img/loading.svg" style="width:100%;"></image>
    </svg>
  </div></ng-template>
</div>
